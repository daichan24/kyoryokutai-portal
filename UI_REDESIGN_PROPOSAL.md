# UI/UX 再設計提案

## 目的
Mission → Project → Task の3階層を、「大目標・中目標・小目標」という言葉を使わずに、直感的に理解・運用できるUI/UXへ再設計

## 前提構造（変更不可）
- Mission（長期目的）
- Project（Missionに紐づく中期取り組み）
- Task（Projectに紐づく日常アクション）
- Mission と Task は直接紐づけない
- Task 作成時は Project を必須とする

## 1. サイドバー構成の再設計

### 現在の構成
```
- ダッシュボード
- スケジュール
- イベント
- ミッション
- プロジェクト
- SNS投稿
```

### 提案する新構成
```
- ダッシュボード
- スケジュール
- イベント

【方向性】
- 方向性（Mission）

【進行中の取り組み】
- プロジェクト（Project）
- タスク（Task）

- SNS投稿
```

### 実装方針
- カテゴリ見出しを追加（「方向性」「進行中の取り組み」）
- 「大目標・中目標・小目標」という直接表現は使わない
- Mission は「方向性」として位置づけ
- Project と Task は「進行中の取り組み」として並列表示

## 2. 各一覧画面での「紐づきの可視化」

### 2.1 Project一覧画面

#### 現在の表示
- プロジェクト名のみ

#### 提案する新表示
```
┌─────────────────────────────────────┐
│ プロジェクト名                      │
│ 方向性: [Mission名]                 │
│ タスク: 3件（完了: 1 / 進行中: 2） │
│ [フェーズバッジ] [期限]             │
└─────────────────────────────────────┘
```

#### 実装方針
- カード内に Mission 名を表示（「方向性:」ラベル付き）
- 紐づく Task 数を表示（完了数/進行中数も表示）
- フェーズと期限を視覚的に表示

### 2.2 Task一覧画面

#### 現在の表示
- タスク名のみ（Project 詳細内で表示）

#### 提案する新表示
```
┌─────────────────────────────────────┐
│ タスク名                            │
│ プロジェクト: [Project名]          │
│ 方向性: [Mission名]（薄い表示）    │
│ [ステータスバッジ] [期限]          │
│ [編集] [完了] [スケジュール連携]   │
└─────────────────────────────────────┘
```

#### 実装方針
- 必ず「どのProjectに属するか」を表示
- Mission も薄く表示（breadcrumb的）
- タスク一覧から直接編集・完了・スケジュール連携が可能
- Project は文脈情報として表示

## 3. タスクを独立した操作起点にする

### 現在の操作フロー
1. Project 詳細画面を開く
2. Project 内の Task を操作

### 提案する新操作フロー
1. Task 一覧画面から直接操作
2. Project は文脈情報として表示
3. スケジュール連携も Task 一覧から直接実行

### 実装方針
- Task 一覧画面を独立したページとして作成
- 各 Task カードに操作ボタンを配置
- Project 詳細画面は「Project の全体像」を表示する用途に特化

## 4. ソート・フィルタ機能

### Task一覧
- **ソート**: 期限 / 優先度 / 状態 / プロジェクト / 作成日
- **フィルタ**: 状態（未着手/進行中/完了）/ プロジェクト / 期限範囲

### Project一覧
- **ソート**: フェーズ / 期限 / Mission / 作成日
- **フィルタ**: フェーズ / Mission / 期限範囲

### 実装方針
- 一覧画面の上部にソート・フィルタUIを配置
- デフォルトは「期限順（期限近い順）」でソート
- フィルタは複数選択可能

## 5. UIトーン

### デザイン原則
- **行動（Task）ほど強調**: Task カードは大きく、色も濃く
- **上位概念（Mission）は意味づけに徹する**: Mission は薄い色、小さめの表示
- **行政感・自己啓発感は避ける**: カジュアルで実用的なデザイン

### 視覚的階層
1. **Task**: 最も目立つ（背景色: 白、ボーダー: 濃い、フォント: 太字）
2. **Project**: 中程度（背景色: 薄いグレー、ボーダー: 中程度）
3. **Mission**: 最も控えめ（背景色: ほぼ透明、ボーダー: 薄い、フォント: 細字）

## スキーマ変更提案

### 現在の構造
```prisma
model Task {
  missionId String  // 必須
  projectId String? // 任意
}
```

### 提案する構造
```prisma
model Task {
  projectId String  // 必須（Project に必須で紐づく）
  // missionId は削除（Mission と Task は直接紐づけない）
}
```

### マイグレーション方針
1. `projectId` を必須にする
2. `missionId` を削除
3. 既存データの移行: `missionId` から `projectId` を推測（Project の `missionId` から）

## 実装順序

1. **Phase 1: スキーマ修正**（必須）
   - Task を Project 配下に戻す
   - マイグレーション作成

2. **Phase 2: サイドバー再設計**
   - カテゴリ見出しを追加
   - Task を独立したメニュー項目として追加

3. **Phase 3: Task一覧画面の作成**
   - 独立した Task 一覧ページを作成
   - Project と Mission の breadcrumb 表示
   - 操作ボタンの配置

4. **Phase 4: Project一覧画面の改善**
   - Mission 名と Task 数の表示
   - 視覚的な改善

5. **Phase 5: ソート・フィルタ機能**
   - Task 一覧にソート・フィルタを追加
   - Project 一覧にソート・フィルタを追加

6. **Phase 6: UIトーンの調整**
   - 視覚的階層の調整
   - カジュアルで実用的なデザインに調整

